<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Drawing board js</title>
    <!-- drawing board css -->
    	<link rel="stylesheet" href="bower_components/drawingboard.js/dist/drawingboard.min.css">
  </head>
  <body>

    <!-- canvas -->
<div class="example" data-example="3">
  <div class="board img" id="custom-board-2" style="width: 600px; height: 600px;">

  </div>
</div>
<br>


<!-- js -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/simple-undo/lib/simple-undo.js"></script>
<script src="bower_components/drawingboard.js/dist/drawingboard.min.js"></script>

<!-- html2canvas -->
<!-- <script src="https://files.codepedia.info/files/uploads/iScripts/html2canvas.js"></script> -->

<!-- logic for drawing board-->
<script data-example="3">
  var customBoard2 = new DrawingBoard.Board('custom-board-2', {
    controls: [
      'Color',
      { Size: { type: 'dropdown' } },
      { DrawingMode: { filler: false } },
      'Navigation',
      'Download'
    ],
    size: 1,
    webStorage: 'session',
    enlargeYourContainer: true,
    droppable: true, //try dropping an image on the canvas!
    stretchImg: true //the dropped image can be automatically ugly resized to to take the canvas size
  });
</script>


  <script src="bower_components/drawingboard.js/example/yepnope.js"></script>

  <script>
  var iHasRangeInput = function() {
    var inputElem  = document.createElement('input'),
      smile = ':)',
      docElement = document.documentElement,
      inputElemType = 'range',
      available;
    inputElem.setAttribute('type', inputElemType);
    available = inputElem.type !== 'text';
    inputElem.value         = smile;
    inputElem.style.cssText = 'position:absolute;visibility:hidden;';
    if ( /^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined ) {
      docElement.appendChild(inputElem);
      defaultView = document.defaultView;
      available = defaultView.getComputedStyle &&
        defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&
        (inputElem.offsetHeight !== 0);
      docElement.removeChild(inputElem);
    }
    return !!available;
  };

  yepnope({
    test : iHasRangeInput(),
    nope : ['bower_components/drawingboard.js/example/fd-slider.min.css', 'bower_components/drawingboard.js/example/fd-slider.min.js'],
    callback: function(id, testResult) {
      if("fdSlider" in window && typeof (fdSlider.onDomReady) != "undefined") {
        try { fdSlider.onDomReady(); } catch(err) {}
      }
    }
  });
</script>

<!-- logic to download png -->
<!-- <script>
$(document).ready(function(){


var element = $(".img"); // global variable
var getCanvas; // global variable

$("#btn-Preview-Image").on('click', function () {
         html2canvas(element, {
         onrendered: function (canvas) {
                $("#previewImage").append(canvas);
                getCanvas = canvas;
             }
         });
    });

	$("#btn-Convert-Html2Image").on('click', function () {
    var imgageData = getCanvas.toDataURL("image/png");
    // Now browser starts downloading it instead of just showing it
    var newData = imgageData.replace(/^data:image\/png/, "data:application/octet-stream");
    $("#btn-Convert-Html2Image").attr("download", "your_pic_name.png").attr("href", newData);
	});

});

</script> -->


</body>
</html>
